import{D as p,a as y,T as v,b as C}from"./chunk-WG7UTTKY-Bt70eHEF.js";import{D as N,a as g}from"./chunk-VT2JJ5C2-BiwoWd3G.js";import{g as _,a as D}from"./chunk-NTEWUH4C-Zwbwn2Hl.js";import{S as d}from"./chunk-ADOCJB6L-5mRsNRjO.js";import{P as S}from"./chunk-P3UUX2T6-BYgDCAAP.js";import{r as H,g as w,j as e,b as i,al as b}from"./index-t_36LRbD.js";import{R as T}from"./react-country-flag.esm-BR3LEJJC.js";var F=({country:l})=>l?e.jsx("div",{className:"flex size-5 items-center justify-center",children:e.jsx(b,{content:l.display_name,children:e.jsx("div",{className:"flex size-4 items-center justify-center overflow-hidden rounded-sm",children:e.jsx(T,{countryCode:l.iso_2.toUpperCase(),svg:!0,style:{width:"16px",height:"16px"},"aria-label":l.display_name})})})}):e.jsx(S,{}),P=({customer:l})=>{if(!l)return e.jsx("span",{className:"text-ui-fg-muted",children:"-"});const{first_name:r,last_name:n,email:c}=l,u=[r,n].filter(Boolean).join(" ");return e.jsx("div",{className:"flex h-full w-full items-center",children:e.jsx("span",{className:"truncate",children:u||c})})},R=()=>{const{t:l}=i();return e.jsx("div",{className:"flex h-full w-full items-center",children:e.jsx("span",{className:"truncate",children:l("fields.customer")})})},E=({status:l})=>{const{t:r}=i();if(!l)return"-";const{label:n,color:c}=D(r,l);return e.jsx(d,{color:c,children:n})},I=()=>{const{t:l}=i();return e.jsx("div",{className:"flex h-full w-full items-center",children:e.jsx("span",{className:"truncate",children:l("fields.fulfillment")})})},O=({status:l})=>{const{t:r}=i(),{label:n,color:c}=_(r,l);return e.jsx(d,{color:c,children:n})},z=()=>{const{t:l}=i();return e.jsx("div",{className:"flex h-full w-full items-center",children:e.jsx("span",{className:"truncate",children:l("fields.payment")})})},K=({channel:l})=>{if(!l)return e.jsx("span",{className:"text-ui-fg-muted",children:"-"});const{name:r}=l;return e.jsx("div",{className:"flex h-full w-full items-center overflow-hidden",children:e.jsx("span",{className:"truncate",children:r})})},A=()=>{const{t:l}=i();return e.jsx("div",{className:"flex h-full w-full items-center",children:e.jsx("span",{className:"truncate",children:l("fields.salesChannel")})})},a=w(),L=l=>{const{exclude:r=[]}=l??{},n=H.useMemo(()=>[a.accessor("display_id",{header:()=>e.jsx(y,{}),cell:({getValue:s})=>{const t=s();return e.jsx(p,{displayId:t})}}),a.accessor("created_at",{header:()=>e.jsx(g,{}),cell:({getValue:s})=>{const t=new Date(s());return e.jsx(N,{date:t})}}),a.accessor("customer",{header:()=>e.jsx(R,{}),cell:({getValue:s})=>{const t=s();return e.jsx(P,{customer:t})}}),a.accessor("sales_channel",{header:()=>e.jsx(A,{}),cell:({getValue:s})=>{const t=s();return e.jsx(K,{channel:t})}}),a.accessor("payment_status",{header:()=>e.jsx(z,{}),cell:({getValue:s})=>{const t=s();return e.jsx(O,{status:t})}}),a.accessor("fulfillment_status",{header:()=>e.jsx(I,{}),cell:({getValue:s})=>{const t=s();return e.jsx(E,{status:t})}}),a.accessor("total",{header:()=>e.jsx(C,{}),cell:({getValue:s,row:t})=>{const o=t.original.payment_status==="refunded",f=o?t.original.payment_collections.reduce((h,j)=>h+(j.refunded_amount??0),0):s(),x=t.original.currency_code;return e.jsx(v,{currencyCode:x,total:f,className:o?"text-ui-fg-muted line-through":""})}}),a.display({id:"actions",cell:({row:s})=>{var o;const t=(o=s.original.shipping_address)==null?void 0:o.country;return e.jsx(F,{country:t})}})],[]),c=s=>s.accessorKey!==void 0,u=s=>s.id!==void 0,m=s=>c(s)?r.includes(s.accessorKey):u(s)?r.includes(s.id):!1;return n.filter(s=>!m(s))};export{L as u};
